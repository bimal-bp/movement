<!-- Modal for Compressor Report with Mine Boulder Production Dashboard -->
<div id="compressor-modal" class="modal">
    <div class="modal-content" style="max-width: 1400px; width: 95%;">
        <div class="modal-header">
            <h2><i class="fas fa-compress-arrows-alt"></i> Mine Boulder Production Dashboard</h2>
            <button class="close-btn" onclick="closeModal('compressor-modal')">&times;</button>
        </div>
        
        <div class="modal-body">
            <style>
                .compressor-dashboard {
                    display: grid;
                    grid-template-columns: 1fr;
                    gap: 20px;
                }
                
                .dashboard-target {
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    padding: 15px 25px;
                    border-radius: 10px;
                    text-align: center;
                    font-weight: 700;
                    font-size: 22px;
                    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
                }
                
                .metrics-grid {
                    display: grid;
                    grid-template-columns: 2fr 1fr;
                    gap: 20px;
                }
                
                .main-metrics-card {
                    background: white;
                    border-radius: 10px;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
                    overflow: hidden;
                }
                
                .hours-metrics-card {
                    background: white;
                    border-radius: 10px;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
                    overflow: hidden;
                }
                
                .card-header {
                    background: #2c3e50;
                    color: white;
                    padding: 15px 20px;
                    font-size: 18px;
                    font-weight: 600;
                }
                
                .card-body {
                    padding: 20px;
                }
                
                .metrics-table {
                    width: 100%;
                    border-collapse: collapse;
                }
                
                .metrics-table th {
                    text-align: left;
                    padding: 12px 15px;
                    background: #f8f9fa;
                    font-weight: 600;
                    color: #2c3e50;
                    border-bottom: 2px solid #e0e0e0;
                }
                
                .metrics-table td {
                    padding: 12px 15px;
                    border-bottom: 1px solid #f0f0f0;
                    font-size: 16px;
                }
                
                .metrics-table tr:last-child td {
                    border-bottom: none;
                }
                
                .metric-value {
                    font-weight: 600;
                    color: #2c3e50;
                }
                
                .metric-value.ftd {
                    color: #3498db;
                }
                
                .metric-value.mtd {
                    color: #2ecc71;
                }
                
                .hours-grid {
                    display: grid;
                    grid-template-columns: 1fr;
                    gap: 15px;
                }
                
                .hour-item {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 10px 0;
                    border-bottom: 1px solid #f0f0f0;
                }
                
                .hour-label {
                    font-weight: 600;
                    color: #444;
                }
                
                .hour-value {
                    font-weight: 700;
                    font-size: 18px;
                    color: #2c3e50;
                }
                
                .achievement-section {
                    background: white;
                    border-radius: 10px;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
                    overflow: hidden;
                }
                
                .achievement-grid {
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 20px;
                    padding: 20px;
                }
                
                .achievement-card {
                    background: #f8f9fa;
                    padding: 15px;
                    border-radius: 8px;
                    border-left: 4px solid #3498db;
                }
                
                .achievement-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 10px;
                }
                
                .achievement-title {
                    font-weight: 600;
                    color: #2c3e50;
                }
                
                .achievement-percentage {
                    font-weight: 700;
                    font-size: 20px;
                    color: #3498db;
                }
                
                .achievement-details {
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 10px;
                    font-size: 14px;
                }
                
                .detail-item {
                    background: white;
                    padding: 8px;
                    border-radius: 5px;
                    text-align: center;
                }
                
                .detail-label {
                    color: #666;
                    margin-bottom: 2px;
                }
                
                .detail-value {
                    font-weight: 600;
                    color: #2c3e50;
                }
                
                .detail-value.gap {
                    color: #e74c3c;
                }
                
                .date-data-btn {
                    background: #3498db;
                    color: white;
                    border: none;
                    padding: 8px 15px;
                    border-radius: 5px;
                    cursor: pointer;
                    font-weight: 600;
                    margin-top: 10px;
                    width: 100%;
                }
                
                .date-data-btn:hover {
                    background: #2980b9;
                }
                
                .shift-schedule {
                    background: white;
                    border-radius: 10px;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
                    overflow: hidden;
                    margin-top: 20px;
                }
                
                .shift-table {
                    width: 100%;
                    border-collapse: collapse;
                }
                
                .shift-table th {
                    background: #2c3e50;
                    color: white;
                    padding: 12px 15px;
                    font-weight: 600;
                    text-align: left;
                }
                
                .shift-table td {
                    padding: 12px 15px;
                    border-bottom: 1px solid #f0f0f0;
                }
                
                .shift-table input {
                    width: 100%;
                    padding: 8px 10px;
                    border: 1px solid #ddd;
                    border-radius: 4px;
                    font-size: 14px;
                }
                
                .shift-table input:focus {
                    outline: none;
                    border-color: #3498db;
                    box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
                }
                
                .area-trial-grid {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 20px;
                    margin-top: 20px;
                }
                
                .area-card, .trial-card {
                    background: white;
                    border-radius: 10px;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
                    overflow: hidden;
                }
                
                .area-table, .trial-form {
                    width: 100%;
                }
                
                .area-table th, .trial-form th {
                    background: #f8f9fa;
                    padding: 12px 15px;
                    font-weight: 600;
                    color: #2c3e50;
                    text-align: left;
                }
                
                .area-table td {
                    padding: 12px 15px;
                    border-bottom: 1px solid #f0f0f0;
                }
                
                .total-row {
                    background: #e8f4fc !important;
                    font-weight: 600;
                }
                
                .trial-form-grid {
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 15px;
                    padding: 20px;
                }
                
                .form-group {
                    display: flex;
                    flex-direction: column;
                }
                
                .form-group label {
                    font-weight: 500;
                    color: #444;
                    margin-bottom: 5px;
                    font-size: 14px;
                }
                
                .form-group input {
                    padding: 8px 12px;
                    border: 1px solid #ddd;
                    border-radius: 4px;
                    font-size: 14px;
                }
                
                .trial-summary {
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    gap: 15px;
                    padding: 20px;
                    background: #f8f9fa;
                    border-top: 1px solid #eee;
                }
                
                .summary-box {
                    background: white;
                    padding: 15px;
                    border-radius: 8px;
                    text-align: center;
                    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
                }
                
                .summary-label {
                    font-size: 13px;
                    color: #666;
                    margin-bottom: 5px;
                }
                
                .summary-value {
                    font-size: 22px;
                    font-weight: 700;
                    color: #2c3e50;
                }
                
                .notes-section {
                    background: white;
                    border-radius: 10px;
                    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
                    overflow: hidden;
                    margin-top: 20px;
                }
                
                .notes-grid {
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 20px;
                    padding: 20px;
                }
                
                .notes-textarea {
                    width: 100%;
                    min-height: 120px;
                    padding: 12px;
                    border: 1px solid #ddd;
                    border-radius: 6px;
                    font-size: 14px;
                    resize: vertical;
                }
                
                .notes-textarea:focus {
                    outline: none;
                    border-color: #3498db;
                    box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
                }
                
                .notes-label {
                    font-weight: 600;
                    color: #2c3e50;
                    margin-bottom: 10px;
                    font-size: 16px;
                }
                
                @media (max-width: 1200px) {
                    .metrics-grid,
                    .achievement-grid,
                    .area-trial-grid,
                    .notes-grid {
                        grid-template-columns: 1fr;
                    }
                    
                    .trial-form-grid {
                        grid-template-columns: 1fr;
                    }
                    
                    .trial-summary {
                        grid-template-columns: repeat(2, 1fr);
                    }
                }
            </style>
            
            <div class="compressor-dashboard">
                <!-- Target Header -->
                <div class="dashboard-target">
                    Target – 1000 Holes & 17 Compressors Per Day
                </div>
                
                <!-- Main Metrics and Hours Grid -->
                <div class="metrics-grid">
                    <!-- Main Production Metrics -->
                    <div class="main-metrics-card">
                        <div class="card-header">Production Metrics</div>
                        <div class="card-body">
                            <table class="metrics-table">
                                <thead>
                                    <tr>
                                        <th>Metric</th>
                                        <th>FTD</th>
                                        <th>MTD</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Compressors</td>
                                        <td class="metric-value ftd">12</td>
                                        <td class="metric-value mtd">245</td>
                                    </tr>
                                    <tr>
                                        <td>NMR</td>
                                        <td class="metric-value ftd">42</td>
                                        <td class="metric-value mtd">78.5</td>
                                    </tr>
                                    <tr>
                                        <td>Holes</td>
                                        <td class="metric-value ftd">850</td>
                                        <td class="metric-value mtd">15,800</td>
                                    </tr>
                                    <tr>
                                        <td>Feets</td>
                                        <td class="metric-value ftd">4,250</td>
                                        <td class="metric-value mtd">79,000</td>
                                    </tr>
                                    <tr>
                                        <td>Production</td>
                                        <td class="metric-value ftd">1,250</td>
                                        <td class="metric-value mtd">22,500</td>
                                    </tr>
                                    <tr>
                                        <td>Boulder transport to plant</td>
                                        <td class="metric-value ftd">45</td>
                                        <td class="metric-value mtd">850</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Hours Metrics -->
                    <div class="hours-metrics-card">
                        <div class="card-header">Hours Tracking</div>
                        <div class="card-body">
                            <div class="hours-grid">
                                <div class="hour-item">
                                    <span class="hour-label">Quarry Running Hours</span>
                                    <span class="hour-value">156.2</span>
                                </div>
                                <div class="hour-item">
                                    <span class="hour-label">Loading Hours</span>
                                    <span class="hour-value">112.5</span>
                                </div>
                                <div class="hour-item">
                                    <span class="hour-label">Breaking Hours</span>
                                    <span class="hour-value">105.3</span>
                                </div>
                                <div class="hour-item">
                                    <span class="hour-label">Development Hours</span>
                                    <span class="hour-value">42.8</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Achievement Section -->
                <div class="achievement-section">
                    <div class="card-header">Performance Achievements</div>
                    <div class="achievement-grid">
                        <div class="achievement-card">
                            <div class="achievement-header">
                                <span class="achievement-title">Compressor Achievement</span>
                                <span class="achievement-percentage">70.6%</span>
                            </div>
                            <div class="achievement-details">
                                <div class="detail-item">
                                    <div class="detail-label">FTD</div>
                                    <div class="detail-value">12</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Gap</div>
                                    <div class="detail-value gap">-5</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">MTD</div>
                                    <div class="detail-value">245</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Gap</div>
                                    <div class="detail-value gap">-55</div>
                                </div>
                            </div>
                            <button class="date-data-btn" onclick="showDateWiseData('compressor')">
                                View Date Wise Data
                            </button>
                        </div>
                        
                        <div class="achievement-card">
                            <div class="achievement-header">
                                <span class="achievement-title">Holes Achievement</span>
                                <span class="achievement-percentage">85.0%</span>
                            </div>
                            <div class="achievement-details">
                                <div class="detail-item">
                                    <div class="detail-label">FTD</div>
                                    <div class="detail-value">850</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Gap</div>
                                    <div class="detail-value gap">-150</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">MTD</div>
                                    <div class="detail-value">15,800</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">Gap</div>
                                    <div class="detail-value gap">-1,200</div>
                                </div>
                            </div>
                            <button class="date-data-btn" onclick="showDateWiseData('holes')">
                                View Date Wise Data
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Shift Schedule -->
                <div class="shift-schedule">
                    <div class="card-header">Shift Schedule & Machinery</div>
                    <div class="card-body">
                        <table class="shift-table">
                            <thead>
                                <tr>
                                    <th>Quarry Start Time</th>
                                    <th>Quarry End Time</th>
                                    <th>Tipper Available</th>
                                    <th>Machinery Available</th>
                                    <th>Remark</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><input type="time" value="06:00"></td>
                                    <td><input type="time" value="14:00"></td>
                                    <td><input type="number" value="8"></td>
                                    <td><input type="text" value="Excavator x3, Drill x2"></td>
                                    <td><input type="text" placeholder="Enter remark"></td>
                                </tr>
                                <tr>
                                    <td><input type="time" value="14:00"></td>
                                    <td><input type="time" value="22:00"></td>
                                    <td><input type="number" value="7"></td>
                                    <td><input type="text" value="Excavator x2, Drill x2"></td>
                                    <td><input type="text" placeholder="Enter remark"></td>
                                </tr>
                                <tr>
                                    <td><input type="time" value="22:00"></td>
                                    <td><input type="time" value="06:00"></td>
                                    <td><input type="number" value="6"></td>
                                    <td><input type="text" value="Excavator x2, Drill x1"></td>
                                    <td><input type="text" placeholder="Enter remark"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Area Wise Compressor & Weekly Trial Data -->
                <div class="area-trial-grid">
                    <!-- Area Wise Compressor -->
                    <div class="area-card">
                        <div class="card-header">Area Wise Compressor</div>
                        <div class="card-body">
                            <table class="area-table">
                                <thead>
                                    <tr>
                                        <th>Area</th>
                                        <th>FTD</th>
                                        <th>MTD</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>9 Ha – Pit 3</td>
                                        <td><input type="number" value="3" style="width: 80px;"></td>
                                        <td><input type="number" value="55" style="width: 80px;"></td>
                                    </tr>
                                    <tr>
                                        <td>Bench 1</td>
                                        <td><input type="number" value="2" style="width: 80px;"></td>
                                        <td><input type="number" value="38" style="width: 80px;"></td>
                                    </tr>
                                    <tr>
                                        <td>Bench 2</td>
                                        <td><input type="number" value="2" style="width: 80px;"></td>
                                        <td><input type="number" value="42" style="width: 80px;"></td>
                                    </tr>
                                    <tr>
                                        <td>Bench 3</td>
                                        <td><input type="number" value="3" style="width: 80px;"></td>
                                        <td><input type="number" value="52" style="width: 80px;"></td>
                                    </tr>
                                    <tr>
                                        <td>Bench 4</td>
                                        <td><input type="number" value="1" style="width: 80px;"></td>
                                        <td><input type="number" value="28" style="width: 80px;"></td>
                                    </tr>
                                    <tr>
                                        <td>Pit-2</td>
                                        <td><input type="number" value="1" style="width: 80px;"></td>
                                        <td><input type="number" value="30" style="width: 80px;"></td>
                                    </tr>
                                    <tr class="total-row">
                                        <td><strong>Total</strong></td>
                                        <td><strong>12</strong></td>
                                        <td><strong>245</strong></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Weekly Trial Data -->
                    <div class="trial-card">
                        <div class="card-header">Weekly Trial Data</div>
                        <div class="card-body">
                            <form class="trial-form">
                                <div class="trial-form-grid">
                                    <div class="form-group">
                                        <label>Date</label>
                                        <input type="date" value="2024-01-15">
                                    </div>
                                    <div class="form-group">
                                        <label>Area</label>
                                        <input type="text" placeholder="Enter area">
                                    </div>
                                    <div class="form-group">
                                        <label>Compressors</label>
                                        <input type="number" value="3">
                                    </div>
                                    <div class="form-group">
                                        <label>NMR</label>
                                        <input type="number" step="0.01" value="4.2">
                                    </div>
                                    <div class="form-group">
                                        <label>Holes</label>
                                        <input type="number" value="150">
                                    </div>
                                    <div class="form-group">
                                        <label>Feets</label>
                                        <input type="number" value="750">
                                    </div>
                                    <div class="form-group">
                                        <label>Production</label>
                                        <input type="number" value="220">
                                    </div>
                                    <div class="form-group">
                                        <label>Breaking %</label>
                                        <input type="number" step="0.01" value="85.5">
                                    </div>
                                </div>
                            </form>
                            
                            <div class="trial-summary">
                                <div class="summary-box">
                                    <div class="summary-label">Total Trips</div>
                                    <div class="summary-value">21</div>
                                </div>
                                <div class="summary-box">
                                    <div class="summary-label">Total Quantity</div>
                                    <div class="summary-value">840</div>
                                </div>
                                <div class="summary-box">
                                    <div class="summary-label">Recovery %</div>
                                    <div class="summary-value">85.5%</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Notes Section -->
                <div class="notes-section">
                    <div class="card-header">Daily Notes & ERP Data</div>
                    <div class="notes-grid">
                        <div>
                            <div class="notes-label">Operational Notes</div>
                            <textarea class="notes-textarea" placeholder="Enter daily remarks, issues, diesel status, machinery works...">• Excavator #2 needs maintenance check
• Water supply issue in Pit 3
• Diesel stock: 2500 liters
• Machinery breakdown: Drill machine #3</textarea>
                        </div>
                        <div>
                            <div class="notes-label">ERP & Administrative Notes</div>
                            <textarea class="notes-textarea" placeholder="Enter labour attendance, payments, purchases, ERP entries...">• Labour attendance: 42/45
• Compressor payment pending: ₹12,500
• Machinery payment due: ₹85,000
• Quarry material purchase: 50 tons
• ERP production entry completed</textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
function showDateWiseData(type) {
    // This function would show a modal or navigate to date-wise data
    alert(`Showing date-wise data for ${type}`);
    // Implementation would depend on your data structure and requirements
}
</script>
